---
title: win10 wsl2
author: wiloon
date: 2019-03-28T09:40:51.000+00:00
url: "/?p=13982"
categories:
- Uncategorized

---
### VcXsrv 安装
从SourceForge上面下载最新版本的VcXsrv  

    https://sourceforge.net/projects/vcxsrv/files/vcxsrv/

#### 启动开始菜单中的XLaunch
##### VcXsrv 配置
- Display settings
    + One large window
    + Display number: -1
- Client startup
    + Start no client
- Extra settings
    + Clipboard
        - Primary Selection
    + Native opengl
    + Disable access control

### wsl2 内安装 xfce4
    sudo apt install -y xfce4
    # nameserver后面的地址就是Windows系统虚拟网卡的地址,记一下,同时需要取消下面两行内容的注释,禁用自动重新生成配置文件,否则重启后这个地址会变
    [network]
    generateResolvConf = false

    vim ~/.bashrc
    # 在文件最后追加下面内容,地址使用上面查看到的
    export DISPLAY=192.168.112.1:0
    # 启动xfce4
    startxfce4

### resolv.conf
    sudo vim /etc/resolv.conf
    ###

#### windows 防火墙配置
选择 公用网络, 否则 执行startxfce4 后报错 无法连接

### shutdown
    wsl --shutdown
    wsl --list --verbose
    wsl -l -v

### 快捷键
        Alt + Enter 全屏
        Alt + F2 新建窗口
        Alt + F3 搜索文本
        Ctrl + [Shift] + Tab 切换窗口
        Ctrl + = + - 0 缩放
        Ctrl + Click 打开光标处的文件、目录名或者网址

### wsl2 Install the Linux kernel update package
https://docs.microsoft.com/en-us/windows/wsl/wsl2-kernel

### command
    # 列出当前已经安装且随时可用的发行版
    wslconfig /list
    # 列出所有发行版，包括正在安装、卸载和已损坏的发行版
    wslconfig /list /all
    # 卸载已经安装的发行版
    wslconfig /unregister <这里填你要卸载的名称，只能填写使用wslconfig /list或者wslconfig /list /all中所包含的，不是随便填的>



### wsl2 graphical

https://zhuanlan.zhihu.com/p/150555651

[https://discourse.ubuntu.com/t/getting-graphical-applications-to-work-on-wsl2/11868](https://discourse.ubuntu.com/t/getting-graphical-applications-to-work-on-wsl2/11868 "https://discourse.ubuntu.com/t/getting-graphical-applications-to-work-on-wsl2/11868")

[https://wiki.ubuntu.com/WSL?_ga=2.253396937.1563783499.1590728512-1733404080.1590728512#Running_Graphical_Applications](https://wiki.ubuntu.com/WSL?_ga=2.253396937.1563783499.1590728512-1733404080.1590728512#Running_Graphical_Applications "https://wiki.ubuntu.com/WSL?_ga=2.253396937.1563783499.1590728512-1733404080.1590728512#Running_Graphical_Applications")

https://c1oudust.me/blog/Windows10%E4%B8%8B%E4%BD%BF%E7%94%A8Linux%E7%9A%84%E5%8F%A6%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F%20%E2%80%94%E2%80%94%20WSL%E4%B8%8E%E5%85%B6%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%8520180509/

http://www.yuan-ji.me/%E5%A6%82%E4%BD%95%E5%9C%A8Windows-Subsystem-for-Linux-(WSL)-%E4%B8%8A%E8%BF%90%E8%A1%8CLinux-GUI-%E8%BD%AF%E4%BB%B6/

https://www.reddit.com/r/bashonubuntuonwindows/comments/9lpc0o/ubuntu_1804_dbus_fix_instructions_with/

https://github.com/QMonkey/wsl-tutorial

https://github.com/yuk7/ArchWSL

https://zhuanlan.zhihu.com/p/34884285