---
title: java 模块 hello world
author: wiloon
type: post
date: 2020-03-07T12:58:10+00:00
url: /?p=15691
categories:
  - Uncategorized

---
### java 模块

module-info.java一般包含以下信息：
  
模块名称
  
该模块依赖的其他模块
  
该模块提供了其他模块

四种模块类型:
  
命名的模块（也称为应用程序模块）包含上述module-info.java
  
平台模块（类似于前者，但这些都是随JDK一起发货）
  
自动模块是在模块路径上提供的那些旧JAR
  
未命名的模块是标准类路径上列出的所有内容

### 对Maven用户的影响

为了能够使用JDK 9的模块系统maven-compiler-plugin版本3.6.1或更高版本<pre data-language=XML>

<code class="language-markup line-numbers">&lt;plugin&gt;
  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
  &lt;version&gt;3.6.1&lt;/version&gt;
  &lt;configuration&gt;
    &lt;showWarnings&gt;true&lt;/showWarnings&gt;
    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;
``` 

#### 工具链插件

$HOME/.m2/toolchains.xml<pre data-language=XML>

<code class="language-markup line-numbers">&lt;toolchains&gt;
  &lt;toolchain&gt;
    &lt;type&gt;jdk&lt;/type&gt;
    &lt;provides&gt;
      &lt;version&gt;9&lt;/version&gt;
      &lt;vendor&gt;oracle&lt;/vendor&gt;
    &lt;/provides&gt;
    &lt;configuration&gt;
      &lt;!-- Change path to JDK9 --&gt;
      &lt;jdkHome&gt;/opt/oracle/jdk-9&lt;/jdkHome&gt;
    &lt;/configuration&gt;
  &lt;/toolchain&gt;
  &lt;toolchain&gt;
    &lt;type&gt;jdk&lt;/type&gt;
    &lt;provides&gt;
      &lt;version&gt;1.8&lt;/version&gt;
      &lt;vendor&gt;oracle&lt;/vendor&gt;
    &lt;/provides&gt;
    &lt;configuration&gt;
      &lt;jdkHome&gt;/opt/oracle/jdk-1.8.0.65&lt;/jdkHome&gt;
    &lt;/configuration&gt;
  &lt;/toolchain&gt;
&lt;/toolchains&gt;
``` 

#### pom.xml<pre data-language=XML>

<code class="language-markup line-numbers">&lt;plugin&gt;
  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;
  &lt;version&gt;1.1&lt;/version&gt;
  &lt;configuration&gt;
    &lt;toolchains&gt;
    &lt;jdk&gt;
        &lt;version&gt;9&lt;/version&gt;
        &lt;vendor&gt;oracle&lt;/vendor&gt;
    &lt;/jdk&gt;
    &lt;/toolchains&gt;
  &lt;/configuration&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;goals&gt;
        &lt;goal&gt;toolchain&lt;/goal&gt;
    &lt;/goals&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
``` 

### 启用Java 9语言支持<pre data-language=XML>

<code class="language-markup line-numbers">&lt;properties&gt;
  &lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;
  &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;
  &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;
  ...
&lt;/properties&gt;
``` 

属性 maven.compiler.release直接映射到该&#8211;release标志javac，而另外两个属性只对IntelliJ有必要 ，用来了解源码兼容性。

### 一个模块示例

https://blog.csdn.net/rickiyeat/article/details/78068316

### 模块文件 module-info.java

放在和模块名相同的目录下
  
如果模块名称是 com.wiloon.java9x, module-info.java 应该放在：src/com.wiloon.java9x/module-info.java

#### module-info.java

```javamodule com.wiloon.java9x { }
```

### 添加代码

```bashvim src/com.wiloon.java9x/com/wiloon/java9x/Java9Tester.java
```

```javapackage com.wiloon.java9x;

public class Java9Tester {
        public static void main(String[] args){
        System.out.println("hello world");
        }
}
```

### 编译模块

```bashmkdir -p mods/com.wiloon.java9x
avac -d mods/com.wiloon.java9x src/com.wiloon.java9x/module-info.java src/com.wiloon.java9x/com/wiloon/java9x/Java9Tester.java

```

### 运行

```bashjava --module-path mods -m com.wiloon.java9x/com.wiloon.java9x.Java9Tester
```