---
title: java 各种数据类型转换
author: wiloon
type: post
date: 2012-05-29T03:05:36+00:00
url: /?p=3285
categories:
  - Java

---
### String > Double
```java
String str="122.202";
double dnum = Double.parseDouble(str);
```

### hex > int

```bash
// 默认hex 大端字节序
int decimal = Integer.parseInt(hexNumber, 16);
```

### list > array>set

```java
Set<T> mySet = new HashSet<>(Arrays.asList(someArray));
```

### array > set, jdk 9+

```java
Set<T> mySet = Set.of(someArray);
```

### array > set, jdk 10+

```java
var mySet = Set.of(someArray);
```

### int > double

```java
Double d = new Double(i)
```

### double > int

```java
int i = d.intValue();
```

### byte to binary string

```java
byte b1 = (byte) 129;
String s1 = String.format("%8s", Integer.toBinaryString(b1 & 0xFF)).replace(' ', '0');
System.out.println(s1); // 10000001
```

### date localdatetime

```java
Instant instant = date.toInstant();
ZoneId zoneId = ZoneId.systemDefault();
instant.atZone(zoneId).toLocalDateTime();
```

### int > bytes

```java
byte[] bytes = ByteBuffer.allocate(4).putInt(i).array();
```

### LocalDateTime > mills

```java 
   public static long localDateTimeToMills(LocalDateTime localDateTime) {
        ZonedDateTime zdt = localDateTime.atZone(ZoneId.systemDefault());
        return zdt.toInstant().toEpochMilli();
    }
```

### LocalDateTime > Instant
```java
    LocalDate date = LocalDate.now();
    Instant instant = date.atStartOfDay(ZoneId.systemDefault()).toInstant();
```

### string > Instant
```java
    LocalDateTime.parse(                   // Parse as an indeterminate `LocalDate`, devoid of time zone or offset-from-UTC. NOT a moment, NOT a point on the timeline.
        "04:30 PM, Sat 5/12/2018" ,        // This input uses a poor choice of format. Whenever possible, use standard ISO 8601 formats when exchanging date-time values as text. Conveniently, the java.time classes use the standard formats by default when parsing/generating strings.
        DateTimeFormatter.ofPattern( "hh:mm a, EEE M/d/uuuu" , Locale.US )  // Use single-character `M` & `d` when the number lacks a leading padded zero for single-digit values.
    )                                      // Returns a `LocalDateTime` object.
    .atZone(                               // Apply a zone to that unzoned `LocalDateTime`, giving it meaning, determining a point on the timeline.
        ZoneId.of( "America/Toronto" )     // Always specify a proper time zone with `Contintent/Region` format, never a 3-4 letter pseudo-zone such as `PST`, `CST`, or `IST`. 
    )                                      // Returns a `ZonedDateTime`. `toString` → 2018-05-12T16:30-04:00[America/Toronto].
    .toInstant()                           // Extract a `Instant` object, always in UTC by definition.   
```

### LocalDateTime > String
```java
// Get current date time
LocalDateTime currentDateTime = LocalDateTime.now();
// Inbuilt format
static DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;
// Custom format
//DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
// Format LocalDateTime
String formattedDateTime = currentDateTime.format(formatter);
//Verify
System.out.println("Formatted LocalDateTime : " + formattedDateTime);       
//Output:
//Formatted LocalDateTime : 2018-07-14T17:45:55.9483536
```

https://howtodoinjava.com/java/date-time/format-localdatetime-to-string/
