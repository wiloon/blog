---
title: 可扩展性, scalability
author: "-"
date: 2011-09-08T11:00:47+00:00
url: scalability
categories:
  - Architecture
tags:
  - reprint
---
## 可扩展性, scalability
可扩展的本质是什么？
可扩展的意思是在面对变化时，用最少的代价去实现，平时我们听得最多的是面向抽象(接口)编程，如果只是把这里的抽象理解成接口，那么就有些狭隘了，抽象是通式通法，而接口只是其中一个，所以在谈可扩展实现之前一定要讲清楚可扩展的本质是什么，连本质都不知道，怎么提出系统性解决方案。



1.1 扩展的本质
扩展的本质就是占位符，明确告诉你这里被占了，具体谁占了不清楚。那么问题来了：占位符到底是什么？它是怎么表达的？又要如何实现的？如果可以把这三个问题理清楚，就可以想到很多可扩展性方案，而不再是单一的面向接口编程。



占位符到底是什么：占位符仅仅是一个标识，标志这里会有变化，一句话可以概括：凡是可以表达变化的就是占位符，然而具体的变化实现又没有给出，真正体现了做什么和怎么做的分离。

占位符怎么表达：要回答这个标识是用什么来表达，变量、接口、配置项…这些都可以表达占位符，变量能被赋值同一类型的数据；接口可以有不同的实现；配置项也可以被赋予不同的值…所以，实现可扩展的思路一下就打开了。

如何实现：再往深层次思考，实现一个接口，如何在执行时动态找到实现类？如果把这个问题想清楚，在实际中实现可扩展又会有一套系统性解决方案。整个过程就两点：识别和执行，识别的意思就是要找到对应目标，接下来就是执行。



综上，到这里可能已经有自己应对可扩展的方法，上面已经给了从不同角度看可扩展性的示例，接下来就是系统化提出应对可扩展的方法。



结论一：扩展的本质就是占位符，凡是可以表达变化的就是占位符。



1.2 应对可扩展的方法
先给出应对可扩展的方法：规范、识别、注册、使用，这 4 点都是从上面可推导出来的，下面一一进行详细说明。



规范：规范是从占位符推导出来的，既然是标志有变化，一定要遵循一定的规范表达，否则别人是不知道的，如接口，就是很直接地表达这里是有变化的，具体的实现还不知道；变量天然地表达这里是变化的数据。

识别：有了规范定义之后，接下来就是识别，之前为什么可扩展一直对我们来讲很虚，那是因为规范和识别都是系统帮我们做的，我们只是知道而没有真正实践。规范是定义，识别是找出有哪些实现了规范。

注册：识别出来之后，就要把信息存储起来，可以存储在本地，也可以存储在远程，如果存储在远程就是一个注册的过程，这里的注册就是存储的意思。简单理解就是识别出来之后要集中管理。

使用：使用就很简单，找到具体实现并执行逻辑处理。



上面四个单词看起来简单，除了使用是终极目标外，其它三个都是抽象的表达，比如规范如何定义、怎么识别、如何注册？通过上面的表述可以看到具体要怎么实践，这里再总结下：



规范如何去定义：凡是可以表达变化的就能用它来定义，常见的有配置项、变量、接口、注解等；

怎么去识别：这个要具体去看如何定义规范，如配置项的变化有一个监听变化；注解是要扫描类来识别 annotation；

如何去注册：如果系统的交互只是一个，那么存储在本地就行，如果系统的交互是多个，那么要注册到一个注册中心上去。



结论二：应对可扩展的方法：规范、识别、注册、使用。

>https://www.infoq.cn/article/1w2mjzzx-0dm9j9vysam

