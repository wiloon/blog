---
title: 多源复制
author: w1100n
type: post
date: 2017-12-21T00:55:26+00:00
url: /?p=11649
categories:
  - Uncategorized

---
<blockquote data-secret="NeYumiSnDh" class="wp-embedded-content">
  
    <a href="http://www.yunweipai.com/archives/20689.html">MySQL 5.7多源复制实践</a>
  
</blockquote>

<iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" style="position: absolute; clip: rect(1px, 1px, 1px, 1px);" src="http://www.yunweipai.com/archives/20689.html/embed#?secret=NeYumiSnDh" data-secret="NeYumiSnDh" width="600" height="338" title="《MySQL 5.7多源复制实践》—运维派" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>

什么是多源复制
  
首先，我们需要清楚几种常见的复制模式：

1）一主一从
  
2）一主多从
  
3）级联复制
  
4）multi-master

MySQL 5.7 之前只能实现一主一从、一主多从或者多主多从的复制。如果想实现多主一从的复制，只能使用 MariaDB，但是 MariaDB 又与官方的 MySQL 版本不兼容。

MySQL 5.7 开始支持了多主一从的复制方式，也就是多源复制。MySQL 5.7 版本相比之前的版本，无论在功能还是性能、安全等方面都已经有不少的提升。

首先，我们需要清楚 multi-master 与 multi-source 复制不是一样的。multi-master 复制通常是环形复制，你可以在任意主机上将数据复制给其他主机。

MySQL

multi-source 是不同的。简单的说，多源复制就是将多个主库同步到一个从库上面，从而增加从的利用率，节省了机器。如下图：