---
title: 'golang  随机数'
author: wiloon
type: post
date: 2017-07-27T07:14:38+00:00
url: /?p=10939
categories:
  - Uncategorized

---
http://www.cnblogs.com/baiyuxiong/p/4545032.html

Go随机数
  
Go math/rand包用于生成随机数。

代码：

复制代码
  
package main

import "fmt&#8221;
  
import "math/rand&#8221;

func main() {

    fmt.Println(rand.Intn(100)) //产生0-100的随机整数
    
    fmt.Println(rand.Float64()) //产生0.0-1.0的随机浮点点
    
    s1 := rand.NewSource(42) //用指定值创建一个随机数种子
    r1 := rand.New(s1)
    fmt.Print(r1.Intn(100), ",")
    fmt.Print(r1.Intn(100))
    fmt.Println()
    
    s2 := rand.NewSource(42) //同前面一样的种子
    r2 := rand.New(s2)
    fmt.Print(r2.Intn(100), ",")
    fmt.Print(r2.Intn(100))
    fmt.Println()
    

}
  
复制代码

返回结果：

81

0.9405090880450124

5,87

5,87

多次重复执行上述代码，返回的结果仍然是一样的。所以为了使得调用的随机数不相同，就需要使用NewSource来提供一个随机的种子。比如：

s2 := rand.NewSource(time.Now().Unix())

如果在同一次执行中多次调用，返回的结果是不一样的：

比如这个代码：

复制代码
  
package main

import "fmt&#8221;
  
import "math/rand&#8221;

func main() {
      
fmt.Println(rand.Intn(100))
      
fmt.Println(rand.Intn(100))
      
fmt.Println(rand.Intn(100))
      
fmt.Println(rand.Intn(100))
  
}
  
复制代码