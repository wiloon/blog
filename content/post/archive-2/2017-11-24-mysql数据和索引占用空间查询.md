---
title: MySQL数据和索引占用空间查询
author: wiloon
type: post
date: 2017-11-24T08:42:42+00:00
url: /?p=11501
categories:
  - Uncategorized

---
http://blog.csdn.net/light_language/article/details/70567962

关于查数据库和表中的数据和索引所占空间的大小的SQL方法：
  
查询information_schema架构中的tables表。
  
代码：
  
查询所有数据库占用磁盘空间大小的SQL语句：

select table\_schema,concat(truncate(sum(data\_length)/1024/1024,2),'MB') as data_size,
  
concat(truncate(sum(index\_length)/1024/1024,2),'MB') as index\_size
  
from information_schema.tables
  
group by table_schema
  
order by sum(data_length) desc;
  
这里写图片描述

查询单个库中所有表磁盘占用大小的SQL语句：

select table\_name,concat(truncate(data\_length/1024/1024,2),'MB') as data_size,
  
concat(truncate(index\_length/1024/1024,2),'MB') as index\_size
  
from information\_schema.tables where table\_schema='employees'
  
order by data_length desc;