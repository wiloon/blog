---
title: RCU
author: "-"
date: 2018-08-28T07:45:54+00:00
url: /?p=12593
categories:
  - Uncategorized

tags:
  - reprint
---
## RCU
RCU是read-copy-update的简称,翻译为中文有点别扭"读-复制-更新"。它是是一种同步机制,有三种角色或者操作: 读者、写者和复制操作,我理解其中的复制操作就是不同CPU上的读者复制了不同的数据值,或者说拥有同一个指针的不同拷贝值,也可以理解为: 在读者读取值的时候,写者复制并替换其内容 (后一种理解来自于RCU作者的解释) 。它于2002年10月引入Linux内核。

RCU允许读操作可以与更新操作并发执行,这一点提升了程序的可扩展性。常规的互斥锁让并发线程互斥执行,并不关心该线程是读者还是写者,而读/写锁在没有写者时允许并发的读者,相比于这些常规锁操作,RCU在维护对象的多个版本时确保读操作保持一致,同时保证只有所有当前读端临界区都执行完毕后才释放对象。RCU定义并使用了高效并且易于扩展的机制,用来发布和读取对象的新版本,还用于延后旧版本对象的垃圾收集工作。这些机制恰当地在读端和更新端并行工作,使得读端特别快速。在某些场合下 (比如非抢占式内核里) ,RCU读端的函数完全是零开销。

https://cloud.tencent.com/developer/article/1006226
  
https://cloud.tencent.com/developer/article/1006236
  
https://blog.csdn.net/juS3Ve/article/details/78447574