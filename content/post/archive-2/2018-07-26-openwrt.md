---
title: openwrt
author: wiloon
type: post
date: 2018-07-26T05:04:27+00:00
url: /?p=12449
categories:
  - Uncategorized

---

### opwnert init
opkg install coreutils-nohup
opkg install ipset
opkg remove dnsmasq
opkg install dnsmasq-full


### openwrt cron

```bash
/etc/init.d/cron start
/etc/init.d/cron enable
crontab -e
crontab -l
```


### x86
64用于现代PC硬件（大约在2007年以后的产品），它是为具有64位功能的计算机而构建的，并支持现代CPU功能。除非有充分的理由，否则请选择此选项。
#### Combined-squashfs.img.gz
该磁盘映像使用传统的OpenWrt布局，一个squashfs只读根文件系统和一个读写分区，在其中存储您安装的设置和软件包。由于此映像的组装方式，您只有230 兆MB的空间来存储其他程序包和配置，而Extroot不起作用。
#### Combined-ext4.img.gz
此磁盘映像使用单个读写ext4分区，没有只读squashfs根文件系统，因此可以扩大分区。故障安全模式或出厂重置等功能将不可用，因为它们需要只读的squashfs分区才能起作用。

### Generic  
仅适用于32位硬件（旧硬件或某些Atom处理器），应为i586 Linux体系结构，将在Pentium 4及更高版本上运行。仅当您的硬件无法运行64位版本时才使用此功能。
### Legacy
用于奔腾4之前的非常旧的PC硬件，在Linux体系结构支持中称为i386。它会错过许多现代硬件上想要/需要的功能，例如多核支持以及对超过1GB RAM的支持，但实际上会在较旧的硬件上运行，而其他版本则不会。
### Geode
是为Geode SoC定制的自定义旧版目标，Geode SoC仍在许多（老化的）网络设备中使用，例如PCEngines的较旧Alix板


### mirror

    sed -i 's_downloads.openwrt.org_mirrors.tuna.tsinghua.edu.cn/openwrt_' /etc/opkg/distfeeds.conf



### 安装证书
openwrt 里访问 使用let's encrypt 签发的证书站点报错： 

    x509: certificate signed by unknown authority

安装最新的 ca-certificates 包也解决不了， 可能是因为 ca-certificates 里也没有 let's encrypt 的根证书。  
浏览器访问站点手动导出证书后放到这个目录下解决。

    vim vim /etc/ssl/certs/foo.crt
https://blog.csdn.net/xushx_bigbear/article/details/47746285
  
https://blog.csdn.net/lee244868149/article/details/57076615

### openwrt
https://openwrt.org/
https://hub.docker.com/u/openwrtorg
https://hub.docker.com/r/openwrtorg/rootfs
 
 https://openwrt.club/93.html