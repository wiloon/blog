---
title: MSBuild
author: w1100n
type: post
date: 2013-02-17T08:51:23+00:00
url: /?p=5170
categories:
  - Uncategorized

---
<h4 style="text-align: left;" align="center">
  http://blog.csdn.net/gordonliwei/article/details/1500529
</h4>

<span style="font-family: 宋体;">我想一些朋友已经知道或是使用Microsoft<span style="font-family: 宋体;">的MSBuild<span style="font-family: 宋体;">来Build<span style="font-family: 宋体;">应用程序，如果您还没有听过MSBuild<span style="font-family: 宋体;">是什么，那么您可以在：

<http://msdn2.microsoft.com/en-us/library/wea2sca5.aspx>

<span style="font-family: 宋体;">找到有关MSBuild<span style="font-family: 宋体;">的信息。

MSBuild<span style="font-family: 宋体;">内付于.Net Framework 2.0<span style="font-family: 宋体;">中，VS Studio 2005<span style="font-family: 宋体;">使用的Build<span style="font-family: 宋体;">就是MSBuild<span style="font-family: 宋体;">。MSBuild<span style="font-family: 宋体;">类似于Java<span style="font-family: 宋体;">的Ant<span style="font-family: 宋体;">或是.NET<span style="font-family: 宋体;">移植版本NAnt<span style="font-family: 宋体;">，都允许开发人员撰写XML<span style="font-family: 宋体;">文件来指定Build<span style="font-family: 宋体;">的流程。不过MSBuild<span style="font-family: 宋体;">和Ant/NAnt<span style="font-family: 宋体;">不太一样的地方是，MSBuild<span style="font-family: 宋体;">比较偏向传统的Make<span style="font-family: 宋体;">工具，但是MSBuild<span style="font-family: 宋体;">改正了许多传统Make<span style="font-family: 宋体;">工具的缺点。由于MSBuild<span style="font-family: 宋体;">在网络上有许多的信息，因此，我在这里并不是讨论MSBuild<span style="font-family: 宋体;">的技术面，而是想谈谈MSBuild<span style="font-family: 宋体;">有趣的地方。

MSBuild<span style="font-family: 宋体;">在VS Studio<span style="font-family: 宋体;">中应该是作为C#/VB.NET<span style="font-family: 宋体;">等项目的Build<span style="font-family: 宋体;">工具（应该是因为我没有VS Studio 2005<span style="font-family: 宋体;">），因此，MSBuild<span style="font-family: 宋体;">主要是作为.NET<span style="font-family: 宋体;">程序语言项目的Build<span style="font-family: 宋体;">工具。但是MSBuild<span style="font-family: 宋体;">在理论上应该是可以作为Windows<span style="font-family: 宋体;">平台上通用的Build<span style="font-family: 宋体;">工具，而不只限于.NET<span style="font-family: 宋体;">程序语言项目。这当然是因为MSBuild<span style="font-family: 宋体;">允许开发人员使用XML<span style="font-family: 宋体;">撰写Build<span style="font-family: 宋体;">流程，此外，MSBuild<span style="font-family: 宋体;">也允许开发人员调用外部工具。因此，MSBuild<span style="font-family: 宋体;">也应该可以让Win32<span style="font-family: 宋体;">的开发工具用来作为通用的Build<span style="font-family: 宋体;">工具，例如Delphi<span style="font-family: 宋体;">，C++Builder<span style="font-family: 宋体;">，甚至是PHP<span style="font-family: 宋体;">等。

<span style="font-family: 宋体;">那么使用MSBuild<span style="font-family: 宋体;">作为Build<span style="font-family: 宋体;">工具有什么好处? <span style="font-family: 宋体;">比如说Delphi<span style="font-family: 宋体;">和C++Builder<span style="font-family: 宋体;">都有自己的Build<span style="font-family: 宋体;">工具，那为什么还要使用MSBuild? <span style="font-family: 宋体;">其实一个非常简单的答案就是Delphi For Win32<span style="font-family: 宋体;">，C++Builder<span style="font-family: 宋体;">，Delphi.NET<span style="font-family: 宋体;">，C#Builder<span style="font-family: 宋体;">以及未来的Delphi For Win64<span style="font-family: 宋体;">等就可以提供一个通用的Build<span style="font-family: 宋体;">机制和Build<span style="font-family: 宋体;">工具。

<span style="font-family: 宋体;">另外一个原因则非常重要，由于MSBuild<span style="font-family: 宋体;">允许开发人员使用XML<span style="font-family: 宋体;">撰写/<span style="font-family: 宋体;">定义Build<span style="font-family: 宋体;">流程，因此对于大型、复杂的项目而言，这允许开发工具借助MSBuild<span style="font-family: 宋体;">提供更为弹性的Build<span style="font-family: 宋体;">流程，更重要的是MSBuild<span style="font-family: 宋体;">允许开发人员拆解Build<span style="font-family: 宋体;">流程，让复杂项目中相同的部分可以执行相同的Build<span style="font-family: 宋体;">工作，或是在不同的项目中共享相同的Build<span style="font-family: 宋体;">流程。如果好好利用这个特点，那么开发人员在Build<span style="font-family: 宋体;">复杂项目时可以大幅减少需要的Build<span style="font-family: 宋体;">时间，或是对于像C++<span style="font-family: 宋体;">这样需要两到三个Pass<span style="font-family: 宋体;">的编译器而言，这可以大幅减少编译、连接等Build<span style="font-family: 宋体;">的时间。例如在笔者自行测试的案例中，笔者把以前许多C++Builder<span style="font-family: 宋体;">的项目重新使用MSBuild<span style="font-family: 宋体;">来重新Build<span style="font-family: 宋体;">，结果是使用MSBuild<span style="font-family: 宋体;">比以前节省了将近50%<span style="font-family: 宋体;">的时间，这大大说明了善用MSBuild<span style="font-family: 宋体;">的好处。

<span style="font-family: 宋体;">那么CodeGear<span style="font-family: 宋体;">在未来会如何善用MSBuild<span style="font-family: 宋体;">？我相信各位很快就会知道了。