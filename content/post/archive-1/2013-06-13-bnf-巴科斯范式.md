---
title: BNF 巴科斯范式
author: wiloon
type: post
date: 2013-06-13T04:56:57+00:00
url: /?p=5528
categories:
  - Uncategorized

---
<div>
  BNF & Augmented BNF
</div>

### <a name="1_1"></a><a name="sub1137652_1_1"></a>巴科斯范式

<div>
  <a href="http://baike.baidu.com/view/807721.htm" target="_blank">巴科斯范式</a>(BNF: Backus-Naur Form 的缩写)是由 John Backus 和 Peter Naur 首次引入一种形式化符号来描述给定语言的语法（最早用于描述ALGOL 60 编程语言）。确切地说，早在UNESCO（<a href="http://baike.baidu.com/view/10718.htm" target="_blank">联合国教科文组织</a>）关于ALGOL 58的会议上提出的一篇报告中，Backus就引入了大部分BNF符号。虽然没有什么人读过这篇报告，但是在Peter Naur读这篇报告时，他发现Backus对ALGOL 58的解释方式和他的解释方式有一些不同之处，这使他感到很惊奇。首次设计ALGOL的所有参与者都开始发现了他的解释方式的一些弱点，所以他决定对于以后版本的ALGOL应该以一种类似的形式进行描述，以让所有参与者明白他们在对什么达成一致意见。他做了少量修改，使其几乎可以通用，在设计ALGOL 60的会议上他为ALGOL 60草拟了自己的BNF。看你如何看待是谁发明了BNF了，或者认为是Backus在1959年发明的，或者认为是Naur在1960年中发明。（关于那个时期编程语言历史的更多细节，参见1978年8月，《Communications of the ACM（<a href="http://baike.baidu.com/view/2398.htm" target="_blank">美国</a>计算机学会通讯）》，第21卷，第8期中介绍Backus获图灵奖的文章。这个注释是由来自Los Alamos Natl.实验室的William B. Clodius建议的）。
</div>

<div>
  现在，几乎每一位新编程语言书籍的作者都使用巴科斯范式来定义编程语言的语法规则。
</div>

### <a name="1_2"></a><a name="sub1137652_1_2"></a>巴科斯范式的内容

<div>
  在双引号中的字("word&#8221;)代表着这些字符本身。而double_quote用来代表双引号。
</div>

<div>
  在双引号外的字（有可能有下划线）代表着语法部分。
</div>

<div>
  尖括号( < > )内包含的为必选项。
</div>

<div>
  方括号( [ ] )内包含的为可选项。
</div>

<div>
  大括号( { } )内包含的为可重复0至无数次的项。
</div>

<div>
  竖线( | )表示在其左右两边任选一项，相当于&#8221;OR&#8221;的意思。
</div>

<div>
  ::= 是“被定义为”的意思。
</div>

<div>
  巴科斯范式示例
</div>

<div>
  这是用BNF来定义的<a href="http://baike.baidu.com/view/229611.htm" target="_blank">Java语言</a>中的For语句的实例：
</div>

<div>
  FOR_STATEMENT ::=
</div>

<div>
  "for&#8221; "(&#8221; ( variable_declaration |
</div>

<div>
  ( expression ";&#8221; ) | ";&#8221; )
</div>

<div>
  [ expression ] ";&#8221;
</div>

<div>
  [ expression ]
</div>

<div>
  ")&#8221; statement
</div>

<div>
  这是Oracle packages的BNF定义：
</div>

<div>
  package_body ::= "package&#8221; package_name "is&#8221;
</div>

<div>
  package_obj_body
</div>

<div>
  [ "begin&#8221; seq_of_statements ]
</div>

<div>
  "end&#8221; [ package_name ] ";&#8221;
</div>

<div>
  package_obj_body ::= variable_declaration
</div>

<div>
  | subtype_declaration
</div>

<div>
  | cursor_declaration
</div>

<div>
  | cursor_body
</div>

<div>
  | exception_declaration
</div>

<div>
  | record_declaration
</div>

<div>
  | plsql_table_declaration
</div>

<div>
  | procedure_body
</div>

<div>
  | function_body
</div>

<div>
  procedure_body ::= "procedure&#8221; procedure_name
</div>

<div>
  [ "(&#8221; argument { ",&#8221; argument } ")&#8221; ]
</div>

<div>
  "return&#8221; return_type
</div>

<div>
  "is&#8221;
</div>

<div>
  [ "declare&#8221; declare_spec ";&#8221; { declare_spec ";&#8221; } ]
</div>

<div>
  "begin&#8221;
</div>

<div>
  seq_of_statements
</div>

<div>
  [ "exception&#8221; exception_handler ]
</div>

<div>
  "end&#8221; [ procedure_name ] ";&#8221;
</div>

<div>
  statement ::= comment
</div>

<div>
  | assignment_statement
</div>

<div>
  | exit_statement
</div>

<div>
  | goto_statement
</div>

<div>
  | if_statement
</div>

<div>
  | loop_statement
</div>

<div>
  | null_statement
</div>

<div>
  | raise_statement
</div>

<div>
  | return_statement
</div>

<div>
  | sql_statement
</div>

<div>
  | plsql_block
</div>

<div>
  这是用BNF来定义的BNF本身的例子：
</div>

<div>
  syntax ::=
</div>

<div>
  rule ::= identifier "::=&#8221; expression
</div>

<div>
  expression ::= term { "|&#8221; term }
</div>

<div>
  term ::= factor
</div>

<div>
  factor ::= identifier |
</div>

<div>
  quoted_symbol |
</div>

<div>
  "(&#8221; expression ")&#8221; |
</div>

<div>
  "[&#8221; expression "]&#8221; |
</div>

<div>
  "{&#8221; expression "}&#8221;
</div>

<div>
  identifier ::= letter { letter | digit }
</div>

<div>
  quoted_symbol ::= "&#8221;&#8221; "&#8221;&#8221;
</div>

### <a name="1_3"></a><a name="sub1137652_1_3"></a>扩展的巴科斯范式 Augmented BNF

<div>
  RFC2234 定义了扩展的巴科斯范式(ABNF)。近年来在Internet的定义中ABNF被广泛使用。ABNF做了更多的改进，比如说，在ABNF中，尖括号不再需要。
</div>