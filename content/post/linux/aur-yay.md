---
title: archlinux AUR, yay
author: "-"
date: 2025-12-21T22:28:02+08:00
url: aur-yay
tags:
  - archlinux
  - reprint
  - remix
  - AI-assisted
categories:
  - Linux
---
## archlinux AUR, yay

## yay

https://github.com/Jguer/yay

yay 是一个 AUR 助手。它使用 Go 语言写成, 宗旨是提供最少化用户输入的 pacman 界面、yaourt 式的搜索, 而几乎没有任何依赖软件。

## yay 安装

```Bashc
pacman -S --needed git base-devel
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si

# 如果遇到 sudo 权限问题，可以分两步执行：
# 1. 构建包（普通用户）
makepkg
# 2. 安装包（需要 root 权限）
su -c "pacman -U yay-*.pkg.tar.zst"
# 或者
sudo pacman -U yay-*.pkg.tar.zst
```

```bash
pacman -S --needed git base-devel && git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si
```

### Binary

If you do not want to compile yay yourself you can use the builds generated by GitHub Actions.

```Bash
pacman -S --needed git base-devel
git clone https://aur.archlinux.org/yay-bin.git
cd yay-bin
makepkg -si
```

### download binary

https://github.com/Jguer/yay/releases

### AUR mirror

默认的仓库 (aur.archlinux.org) 非常慢, 可以走梯子加速, 或者用国内的镜像。

执行以下命令修改 aururl :

```bash
yay --aururl "https://aur.archlinux.org" --save
```

**⚠️ 注意：清华镜像源已停止服务**

清华大学 AUR 镜像源 `aur.tuna.tsinghua.edu.cn` 已经停止服务。如果遇到以下错误：

```
dial tcp: lookup aur.tuna.tsinghua.edu.cn: no such host
```

请切换回官方源：

```bash
yay --aururl "https://aur.archlinux.org" --save
```

**重要：如果执行上述命令后仍然报错**

如果执行 `--aururl` 命令后仍然尝试访问清华镜像源，说明配置文件中 `aurrpcurl` 字段仍然保留旧的镜像地址。需要手动编辑配置文件：

```bash
# 编辑配置文件
vim ~/.config/yay/config.json
# 或者使用其他编辑器
nano ~/.config/yay/config.json
```

找到 `aurrpcurl` 字段，确保其值为：

```json
"aurrpcurl": "https://aur.archlinux.org/rpc?",
```

或者使用 sed 命令快速修复：

```bash
sed -i 's|"aurrpcurl": "https://aur.tuna.tsinghua.edu.cn/rpc?"|"aurrpcurl": "https://aur.archlinux.org/rpc?"|' ~/.config/yay/config.json
```

修改的配置文件位于 `~/.config/yay/config.json`，可以通过以下命令查看修改过的配置：

```bash
yay -P -g
```

如果官方源访问较慢，建议使用代理或 VPN 加速访问。

### 使用 命令

```bash
# 搜索: 
yay -Ss <package-name>

# 安装: 
yay -S <package-name>

# 查看 yay 安装的软件包列表
yay -Q

# 查询软件包安装的文件列表
yay -Ql
yay -Ql <package-name>
```



## Yaourt

Yaourt 已经不再维护

[https://mirrors.tuna.tsinghua.edu.cn/help/AUR/](https://mirrors.tuna.tsinghua.edu.cn/help/AUR/)  
[http://bashell.nodemedia.cn/archives/install-yaourt.html](http://bashell.nodemedia.cn/archives/install-yaourt.html)  
[https://linux.cn/article-9925-1.html](https://linux.cn/article-9925-1.html)  
