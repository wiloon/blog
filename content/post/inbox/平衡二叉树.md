---
title: "平衡二叉树, AVL树"
author: "-"
date: "2021-07-25 10:46:33"
url: "平衡二叉树"
categories:
  - inbox
tags:
  - inbox
---

# 平衡二叉树（AVL）
AVL 树是一种平衡二叉树，得名于其发明者的名字（ Adelson-Velskii 以及 Landis）。
1：定义

       父节点的左子树和右子树的高度之差不能大于1，也就是说不能高过1层，否则该树就失衡了，此时就要旋转节点，在

编码时，我们可以记录当前节点的高度，比如空节点是-1，叶子节点是0，非叶子节点的height往根节点递增，比如在下图

中我们认为树的高度为h=2。

旋转

    节点再怎么失衡都逃不过4种情况，下面我们一一来看一下。

① 左左情况（左子树的左边节点）
我们看到，在向树中追加“节点1”的时候，根据定义我们知道这样会导致了“节点3"失衡，满足“左左情况“，可以这样想，把这

棵树比作齿轮，我们在“节点5”处把齿轮往下拉一个位置，也就变成了后面这样“平衡”的形式，如果用动画解释就最好理解了。
② 右右情况（右子树的右边节点）



同样，”节点5“满足”右右情况“，其实我们也看到，这两种情况是一种镜像，当然操作方式也大同小异，我们在”节点1“的地方

将树往下拉一位，最后也就形成了我们希望的平衡效果。
③左右情况（左子树的右边节点）



从图中我们可以看到，当我们插入”节点3“时，“节点5”处失衡，注意，找到”失衡点“是非常重要的，当面对”左右情况“时，我们将

失衡点的左子树进行"右右情况旋转"，然后进行”左左情况旋转“，经过这样两次的旋转就OK了，很有意思，对吧。
④右左情况(右子树的左边节点）



这种情况和“情景3”也是一种镜像关系，很简单，我们找到了”节点15“是失衡点，然后我们将”节点15“的右子树进行”左左情况旋转“，

然后进行”右右情况旋转“，最终得到了我们满意的平衡。
添加

    如果我们理解了上面的这几种旋转，那么添加方法简直是轻而易举，出现了哪一种情况调用哪一种方法而已。
    删除

删除方法跟添加方法也类似，当删除一个结点的时候，可能会引起祖先结点的失衡，所以在每次”结点“回退的时候计算结点高度。


https://www.cnblogs.com/huangxincheng/archive/2012/07/22/2603956.html