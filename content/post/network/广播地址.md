---
title: 广播地址
author: "-"
date: 2012-04-07T04:28:01+00:00
url: /?p=2818
categories:
  - Network

tags:
  - reprint
---
## 广播地址
概述
  
广播地址(Broadcast Address)是专门用于同时向网络中 (通常指同一子网) 所有工作站进行发送的一个地址。在使用TCP/IP 协议的网络中，主机标识段host ID (简称主机 ID)  为全 1 的 IP 地址为广播地址，广播的分组传送给同一个子网的所有计算机。例如，对于10.1.1.0  (255.255.255.0 ) 网段，其广播地址为10.1.1.255  (255 即为 2 进制的 11111111 ) ，当发出一个目的地址为10.1.1.255 的数据包时，它将被分发给该网段上的所有计算机。广播地址应用于网络内的所有主机。

Broadcast Address(广播地址)是专门用于同时向网络中所有工作站进行发送的一个地址。在使用TCP/IP 协议的网络中，主机标识段host ID 为全1 的IP 地址为广播地址，广播的分组传送给host ID段所涉及的所有计算机。例如，对于10.1.1.0  (255.255.255.0 ) 网段，其广播地址为10.1.1.255  (255 即为2 进制的11111111 ) ，当发出一个目的地址为10.1.1.255 的分组 (封包) 时，它将被分发给该网段上的所有计算机。

广播地址主要有两类
  
广播地址应用于网络内的所有主机

1)受限广播

它不被路由但会被送到相同物理网络段上的所有主机

IP地址的网络字段和主机字段全为1就是地址255.255.255.255

2)直接广播

网络广播会被路由，并会发送到专门网络上的每台主机

IP地址的网络字段定义这个网络，主机字段通常全为1，如 192.168.10.255

四种I P广播地址
  
受限的广播地址

受限的广播地址是255.255.255.255。该地址用于主机配置过程中IP数据报的目的地址，此时，主机可能还不知道它所在网络的网络掩码，甚至连它的IP地址也不知道。在任何情况下，路由器都不转发目的地址为受限的广播地址的数据报，这样的数据报仅出现在本地网络中。

指向网络的广播

指向网络的广播地址是主机号为全1的地址。A类网络广播地址为netid.255.255.255，其中netid为A类网络的网络号。一个路由器必须转发指向网络的广播，但它也必须有一个不进行转发的选择。

指向子网的广播

指向子网的广播地址为主机号为全1且有特定子网号的地址。作为子网直接广播地址的IP地址需要了解子网的掩码。例如，如果路由器收到发往128.1.2.255的数据报，当B类网络128.1的子网掩码为255.255.255.0时，该地址就是指向子网的广播地址；但如果该子网的掩码为255.255.254.0，该地址就不是指向子网的广播地址。

指向所有子网的广播

指向所有子网的广播也需要了解目的网络的子网掩码，以便与指向网络的广播地址区分开。指向所有子网的广播地址的子网号及主机号为全1。例如，如果目的子网掩码为255.255.255.0，那么IP地址128.1.255.255是一个指向所有子网的广播地址。然而，如果网络没有划分子网，这就是一个指向网络的广播。

广播和广播地址
  
1. TCP/IP协议栈中, 传输层只有UDP可以广播.

  1. 只能对同一子网内部广播, 广播数据包不经过路由器. 
  2. UDP的广播地址为255.255.255.255

  3. 在winsock实现中, 有一个选项对应是否允许广播.

必须调用setsockopt打开该选项.

  1. 打开后, 用sendto向255.255.255.255发送的数据包全部广播.

很多局域网都定义了一个特殊的保留地址, 称为广播地址. 当信息头中目的地址域的内容为广播地址时, 该帧被局域网上所有计算机接收. 这个过程称为广播.

合法的广播地址就是主机的网络地址加上最大的主机号。网络地址通过机器的ip地址与子网掩码按位与得出，我们以ip地址为10.78.202.175 ，子网掩码为255.255.255.0。

为例来分析一下上面的几个概念

首先将这两个东西换算成二进制代码

ip地址: 00001010.01001110.11001010.10101111

子网掩码: 11111111.11111111.11111111.00000000

按位与之后得出网络地址: 00001010.01001110.11001010.00000000

十进制表示就是10.78.202.0

这个网络地址理论上可以有254台主机。

合法的广播地址就是主机的网络地址加上最大的主机号。网络地址通过机器的ip地址与子网掩码按位与得出，

我们以ip地址为10.78.202.175 子网掩码为255.255.255.0
  
为例来分析一下上面的几个概念

首先将这两个东西换算成二进制代码
  
ip地址: 00001010.01001110.11001010.10101111
  
子网掩码: 11111111.11111111.11111111.00000000
  
按位与之后得出网络地址: 00001010.01001110.11001010.0000000
  
十进制表示就是10.78.202.0
  
这个网络地址理论上可以有255台主机，但是除去网络地址
  
0和广播地址255之后，实际上只能有253台主机
  
那么我们可以知道175就是你这台机器的主机号，
  
广播地址就是最大的主机号，也就是10.78.202.255。

有没有255.255.255.255可能成为一个合法的广播地址呢？
  
答案是不可能因为0.0.0.0不是一个合法子网掩码。

广播地址只是一个标识,在数据包里面,如果目的地址是广播地址的话,就会向整个同一网段的主机发送广播包.用sniffer截下一个数据包看看,就会发现如果是广播包的话,目的地址不是你的主机,而是广播地址,它起的作用只是告诉所有接收方,这个广播包你们全都要收…

广播顾名思义 ，就是让大家都听的到的声音，叫广播！加上地址 就是发送广播的地址
  
最广泛的定义是 255.255.255.255 这是个全网广播
  
当然广播地址的计算要根据实际网段的mask, 广播地址通常是地址池里最后1个IP！
  
比如 192.168.1.0/255.255.255.0
  
这个典型的C类地址里 他的broadcast地址就是 192.168.1.255
  
在网络里 广播 又分为 2层广播 和3层广播 ！
  
2层广播由ARP产生 用来寻找 MAC地址
  
3层广播路由器产生 用来查找出站接口IP

广播地址用来向网络内的所有主机发送报文。ARP通过广播地址向网络内的所有主机发送地址解析请求，以便能够将IP地址解析成为物理地址。
  
在设置广播地址时，网络段地址不变，即主机中子网掩码位为1的对应位保持不变，主机地址中剩余的主机地址各位设置位1。

—

http://hi.baidu.com/hzd817/blog/item/9c856512cfa1d6cbc3fd789c.html

网络地址是识别网络ID用的
  
如192.168.1.0
  
说明该网段属于192.168.1的段
  
属于不可用IP
  
广播地址是用来进行广播的
  
如ARP广播 这个地址是一个通用地址
  
如192.168.1.255
  
192.168.1.1–192.168.1.254
  
这些机器在询问网关的时候把信息发往192.168.1.255
  
所有的机器都可以接收到它发来的信息
  
信息会问谁是网关你的MAC地址是多少
  
如果有一台机器是网关他就会回应

所以这两个地址是保留给网络用的
  
不能做IP使用

这两个地址是机器自动识别的 在所有机器上应用
  
每台机器上的广播地址都是192.168.1.255
  
而只要配置了192.168.1.x范围内的网段的机器 通过标准的子网掩码255.255.255.0
  
机器都会默认自己是属于192.168.1.0的网段

在大型的网络里可能包含着很多网段 比如一个有几百台的机器 他们都通过交换机路由器互相连接在一起 而他们的网段不同
  
有192.168.0.0 192.168.1.0 192.168.2.0 192.168.3.0 他们有一个共同的广播地址那就是 255.255.255.255 所有网段的广播都向这里发送 所以会造成巨大的广播信息造成网络不稳定这就是所谓的广播风暴
  
255.255.255.255是一个最大的广播域
  
而网段下的广播地址是一个小的广播域
  
在大的广播域下会形成广播风暴
  
所以现在人们使用路由器来隔离广播域
  
就是为了隔离网段让他们通过路由互相访问而不是把他们用交换机连在一起
  
因为路由可以把不同网段的广播限制在自己的网段中
  
而不让他们扩散到其他网段
  
这样就禁止了广播风暴